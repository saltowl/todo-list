{"version":3,"sources":["components/app-header/app-header-view.js","components/search-panel/search-panel-view.js","components/search-panel/search-panel-container.js","components/item-status-filter/item-status-filter-view.js","components/item-status-filter/item-status-filter-container.js","components/todo-list-item/todo-list-item-view.js","redux/constants.js","components/todo-list-item/todo-list-item-redux.js","redux/actions.js","components/todo-list/todo-list.js","components/todo-list/todo-list-redux.js","components/add-item-form/add-item-form-view.js","components/add-item-form/add-item-form-container.js","components/app/app-view.js","components/app/app-container.js","redux/reducers.js","components/app/app-redux.js","redux/index.js","index.js"],"names":["React","memo","label","doneCount","todoCount","className","placeholder","onChange","value","type","SearchPanelContainer","state","e","target","setState","props","this","PureComponent","filterTodos","buttons","active","buttonsGroup","map","i","filter","onClick","key","ItemStatusFilterContainer","findIndex","button","id","important","done","toggleTodoProperty","onDeleted","INITIAL_STATE","todos","list","KEY","connect","dispatch","prop","payload","TodoListItem","onItemDeleted","insertTodoBefore","useState","selected","setSelected","useRef","elems","item","onDragStart","onDragEnd","draggable","onDragOver","preventDefault","activeElement","current","querySelector","currentElement","classList","contains","nextElement","cursorPosition","currentElementCoord","getBoundingClientRect","y","height","nextElementSibling","getNextElement","clientY","previousElementSibling","ref","next","TodoList","onLabelChange","onSubmit","AddItemFormContainer","onItemAdded","filteredTodos","addItem","deleteItem","handleSearch","length","AppContainer","searchValue","text","todo","uniqid","addTodo","deleteTodo","items","term","toLowerCase","includes","search","combineReducers","constants","action","idx","slice","from","to","newList","getTodos","App","localStorage","JSON","parse","store","createStore","rootReducer","subscribe","getState","stringify","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8feed800.chunk.js","sourcesContent":["import React from 'react';\r\nimport './app-header.css';\r\n\r\nexport default React.memo(function AppHeader({ label, doneCount, todoCount }) {\r\n  return (\r\n    <header className=\"d-flex app-header\">\r\n      <h1 className=\"app-header__label\">{label}</h1>\r\n      <h2 className=\"app-header__info\">\r\n        {todoCount} more to do, {doneCount} done\r\n      </h2>\r\n    </header>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport './search-panel.css';\r\n\r\nexport default React.memo(function SearchPanel({\r\n  placeholder = 'type to search',\r\n  onChange,\r\n  value,\r\n}) {\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      className=\"form-control search-input\"\r\n      placeholder={placeholder}\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n});\r\n","import React from 'react';\r\nimport SearchPanel from './search-panel-view';\r\n\r\nexport default class SearchPanelContainer extends React.PureComponent {\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  onChange = (e) => {\r\n    const value = e.target.value;\r\n    this.setState({ value });\r\n    this.props.onChange(value);\r\n  };\r\n\r\n  render() {\r\n    return <SearchPanel value={this.state.value} onChange={this.onChange} />;\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default React.memo(function ItemStatusFilter({ filterTodos, buttons, active }) {\r\n  const buttonsGroup = buttons.map(({ label, filter }, i) => (\r\n    <button\r\n      className={`btn ${active === i ? 'btn-info' : 'btn-outline-secondary'}`}\r\n      onClick={() => filterTodos(filter)}\r\n      key={`filter-status-${filter}`}\r\n    >\r\n      {label}\r\n    </button>\r\n  ));\r\n\r\n  return <div className=\"bt-group\">{buttonsGroup}</div>;\r\n});\r\n","import React from 'react';\r\nimport ItemStatusFilter from './item-status-filter-view';\r\n\r\nexport default class ItemStatusFilterContainer extends React.PureComponent {\r\n  buttons = [\r\n    { label: 'All', filter: 'all' },\r\n    { label: 'Active', filter: 'active' },\r\n    { label: 'Done', filter: 'done' },\r\n  ];\r\n\r\n  state = {\r\n    active: 0,\r\n  };\r\n\r\n  filterTodos = (filter) => {\r\n    this.props.filterTodos(filter);\r\n    const active = this.buttons.findIndex((button) => button.filter === filter);\r\n    this.setState({ active });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ItemStatusFilter\r\n        filterTodos={this.filterTodos}\r\n        buttons={this.buttons}\r\n        active={this.state.active}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './todo-list-item.css';\r\n\r\nexport default React.memo(function TodoListItem({\r\n  id,\r\n  label,\r\n  important,\r\n  done,\r\n  toggleTodoProperty,\r\n  onDeleted,\r\n}) {\r\n  return (\r\n    <span\r\n      className={`todo-list-item ${important ? 'important' : ''} ${done ? 'done' : ''}`}\r\n    >\r\n      <span\r\n        className=\"todo-list-item__label\"\r\n        onClick={() => toggleTodoProperty(id, 'done')}\r\n      >\r\n        {label}\r\n      </span>\r\n\r\n      <button\r\n        type=\"b utton\"\r\n        className=\"btn btn-outline-success btn-sm float-right\"\r\n        onClick={() => toggleTodoProperty(id, 'important')}\r\n      >\r\n        <i className=\"fa fa-exclamation\" />\r\n      </button>\r\n\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-outline-danger btn-sm float-right\"\r\n        onClick={onDeleted}\r\n      >\r\n        <i className=\"fa fa-trash-o\" />\r\n      </button>\r\n    </span>\r\n  );\r\n});\r\n","export const INITIAL_STATE = {\r\n  todos: {\r\n    list: [],\r\n  },\r\n};\r\n\r\nexport const ADD_TODO = 'ADD_TODO';\r\nexport const DELETE_TODO = 'DELETE_TODO';\r\nexport const TOGGLE_TODO_PROPERTY = 'TOGGLE_TODO_PROPERTY';\r\nexport const INSERT_TODO_BEFORE = 'INSERT_TODO_BEFORE';\r\n\r\nexport const KEY = 'SIMPLE_TODO_LIST_APP';\r\n","import TodoListItem from './todo-list-item-view';\r\nimport { connect } from 'react-redux';\r\nimport { toggleTodoProperty } from '../../redux/actions';\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  toggleTodoProperty: (id, prop) => dispatch(toggleTodoProperty(id, prop)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(TodoListItem);\r\n","import * as constants from './constants';\r\n\r\nexport const addTodo = (todo) => ({\r\n  type: constants.ADD_TODO,\r\n  payload: { todo },\r\n});\r\n\r\nexport const deleteTodo = (id) => ({\r\n  type: constants.DELETE_TODO,\r\n  payload: { id },\r\n});\r\n\r\nexport const toggleTodoProperty = (id, prop) => ({\r\n  type: constants.TOGGLE_TODO_PROPERTY,\r\n  payload: {\r\n    id,\r\n    prop,\r\n  },\r\n});\r\n\r\nexport const insertTodoBefore = (current, next) => ({\r\n  type: constants.INSERT_TODO_BEFORE,\r\n  payload: {\r\n    current,\r\n    next,\r\n  },\r\n});\r\n","import React, { useState, useRef } from 'react';\r\nimport './todo-list.css';\r\nimport TodoListItem from '../todo-list-item';\r\n\r\nexport default React.memo(function TodoList({ todos, onItemDeleted, insertTodoBefore }) {\r\n  const [selected, setSelected] = useState(null);\r\n  const list = useRef(null);\r\n\r\n  const elems = todos.map((item) => (\r\n    <li\r\n      key={item.id}\r\n      id={item.id}\r\n      className={`list-group-item ${selected === item.id ? 'selected' : ''}`}\r\n      onDragStart={() => setSelected(item.id)}\r\n      onDragEnd={() => setSelected(null)}\r\n      draggable\r\n    >\r\n      <TodoListItem {...item} onDeleted={() => onItemDeleted(item.id)} />\r\n    </li>\r\n  ));\r\n\r\n  const getNextElement = (cursorPosition, currentElement) => {\r\n    const currentElementCoord = currentElement.getBoundingClientRect();\r\n    const currentElementCenter = currentElementCoord.y + currentElementCoord.height / 2;\r\n\r\n    return cursorPosition < currentElementCenter\r\n      ? currentElement\r\n      : currentElement.nextElementSibling;\r\n  };\r\n\r\n  const onDragOver = (e) => {\r\n    e.preventDefault();\r\n    const activeElement = list.current.querySelector('.selected');\r\n    const currentElement = e.target;\r\n    const isMoveable =\r\n      activeElement !== currentElement &&\r\n      currentElement.classList.contains(`list-group-item`);\r\n\r\n    if (isMoveable) {\r\n      const nextElement = getNextElement(e.clientY, currentElement);\r\n      if (\r\n        nextElement &&\r\n        activeElement !== nextElement.previousElementSibling &&\r\n        activeElement !== nextElement\r\n      ) {\r\n        insertTodoBefore(activeElement.id, nextElement.id);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ul className=\"list-group\" onDragOver={onDragOver} ref={list}>\r\n      {elems}\r\n    </ul>\r\n  );\r\n});\r\n","import TodoList from './todo-list';\r\nimport { connect } from 'react-redux';\r\nimport { insertTodoBefore } from '../../redux/actions';\r\n\r\nexport default connect(null, { insertTodoBefore })(TodoList);\r\n","import React from 'react';\r\nimport './add-item-form.css';\r\n\r\nexport default React.memo(function AddItemForm({ label, onLabelChange, onSubmit }) {\r\n  return (\r\n    <form className=\"add-item-form d-flex\" onSubmit={onSubmit}>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control add-item-form__input\"\r\n        onChange={onLabelChange}\r\n        placeholder=\"to do...\"\r\n        value={label}\r\n      />\r\n      <button className=\"btn btn-outline-secondary\">Add Item</button>\r\n    </form>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport AddItemForm from './add-item-form-view';\r\n\r\nexport default class AddItemFormContainer extends React.PureComponent {\r\n  state = {\r\n    label: '',\r\n  };\r\n\r\n  onLabelChange = (e) => {\r\n    this.setState({ label: e.target.value });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onItemAdded(this.state.label);\r\n    this.setState({ label: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <AddItemForm\r\n        {...this.props}\r\n        onLabelChange={this.onLabelChange}\r\n        label={this.state.label}\r\n        onSubmit={this.onSubmit}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nimport './app.css';\r\n\r\nimport AppHeader from '../app-header';\r\nimport SearchPanel from '../search-panel';\r\nimport ItemStatusFilter from '../item-status-filter';\r\nimport TodoList from '../todo-list';\r\nimport AddItemForm from '../add-item-form';\r\n\r\nexport default React.memo(function App({\r\n  todos,\r\n  filteredTodos,\r\n  addItem,\r\n  deleteItem,\r\n  filterTodos,\r\n  handleSearch,\r\n}) {\r\n  const doneCount = todos.filter(({ done }) => done).length;\r\n  const todoCount = todos.length - doneCount;\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <AppHeader doneCount={doneCount} todoCount={todoCount} label={'Todo List'} />\r\n      <div className=\"tools d-flex\">\r\n        <SearchPanel onChange={handleSearch} />\r\n        <ItemStatusFilter filterTodos={filterTodos} />\r\n      </div>\r\n      <TodoList todos={filteredTodos} onItemDeleted={deleteItem} />\r\n      <AddItemForm onItemAdded={addItem} />\r\n    </div>\r\n  );\r\n});\r\n","import React from 'react';\r\nimport App from './app-view';\r\nimport uniqid from 'uniqid';\r\n\r\nexport default class AppContainer extends React.PureComponent {\r\n  state = {\r\n    filter: '',\r\n    searchValue: '',\r\n  };\r\n\r\n  addItem = (text) => {\r\n    const todo = {\r\n      label: text,\r\n      done: false,\r\n      important: false,\r\n      id: uniqid(),\r\n    };\r\n    this.props.addTodo(todo);\r\n  };\r\n\r\n  deleteItem = (id) => {\r\n    this.props.deleteTodo(id);\r\n  };\r\n\r\n  filterTodos = (filter) => {\r\n    this.setState({ filter });\r\n  };\r\n\r\n  handleSearch = (searchValue) => {\r\n    this.setState({ searchValue });\r\n  };\r\n\r\n  filter(items, term) {\r\n    let filteredTodos;\r\n    switch (term) {\r\n      case 'done': {\r\n        filteredTodos = items.filter(({ done }) => done);\r\n        break;\r\n      }\r\n      case 'active': {\r\n        filteredTodos = items.filter(({ done }) => !done);\r\n        break;\r\n      }\r\n      default: {\r\n        filteredTodos = items;\r\n        break;\r\n      }\r\n    }\r\n    return filteredTodos;\r\n  }\r\n\r\n  search(items, term) {\r\n    if (term.length > 0) {\r\n      return items.filter(({ label }) =>\r\n        label.toLowerCase().includes(term.toLowerCase()),\r\n      );\r\n    }\r\n    return items;\r\n  }\r\n\r\n  render() {\r\n    const filteredTodos = this.search(\r\n      this.filter(this.props.todos, this.state.filter),\r\n      this.state.searchValue,\r\n    );\r\n\r\n    return (\r\n      <App\r\n        addItem={this.addItem}\r\n        deleteItem={this.deleteItem}\r\n        todos={this.props.todos}\r\n        filteredTodos={filteredTodos}\r\n        filterTodos={this.filterTodos}\r\n        handleSearch={this.handleSearch}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport * as constants from './constants';\r\n\r\nconst todoListReducer = (state = constants.INITIAL_STATE.todos, action = {}) => {\r\n  switch (action.type) {\r\n    case constants.ADD_TODO: {\r\n      const { todo } = action.payload;\r\n      return {\r\n        ...state,\r\n        list: [...state.list, todo],\r\n      };\r\n    }\r\n\r\n    case constants.DELETE_TODO: {\r\n      const { id } = action.payload;\r\n      const idx = state.list.findIndex((todo) => todo.id === id);\r\n      return {\r\n        ...state,\r\n        list: [...state.list.slice(0, idx), ...state.list.slice(idx + 1)],\r\n      };\r\n    }\r\n\r\n    case constants.TOGGLE_TODO_PROPERTY: {\r\n      const { id, prop } = action.payload;\r\n      return {\r\n        ...state,\r\n        list: state.list.map((item) =>\r\n          item.id === id ? { ...item, [prop]: !item[prop] } : item,\r\n        ),\r\n      };\r\n    }\r\n\r\n    case constants.INSERT_TODO_BEFORE: {\r\n      const { current, next } = action.payload;\r\n      const { list } = state;\r\n      const from = list.findIndex((item) => item.id === current);\r\n      const to = list.findIndex((item) => item.id === next);\r\n      const newList =\r\n        from < to\r\n          ? [\r\n              ...list.slice(0, from),\r\n              ...list.slice(from + 1, to),\r\n              list[from],\r\n              ...list.slice(to),\r\n            ]\r\n          : [\r\n              ...list.slice(0, to),\r\n              list[from],\r\n              ...list.slice(to, from),\r\n              ...list.slice(from + 1),\r\n            ];\r\n      return {\r\n        ...state,\r\n        list: newList,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return {\r\n        ...state,\r\n      };\r\n    }\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  todos: todoListReducer,\r\n});\r\n\r\nexport const getTodos = (state) => state.todos.list;\r\n","import App from './app-container';\r\nimport { connect } from 'react-redux';\r\nimport { getTodos } from '../../redux/reducers';\r\nimport { addTodo, deleteTodo } from '../../redux/actions';\r\n\r\nconst mapStateToProps = (state) => ({\r\n  todos: getTodos(state),\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  addTodo: (todo) => dispatch(addTodo(todo)),\r\n  deleteTodo: (id) => dispatch(deleteTodo(id)),\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import { createStore } from 'redux';\r\nimport rootReducer from './reducers';\r\nimport { INITIAL_STATE, KEY } from './constants';\r\n\r\nconst list = localStorage[KEY] ? JSON.parse(localStorage[KEY]) : [];\r\n\r\nconst state = {\r\n  ...INITIAL_STATE,\r\n  todos: { list },\r\n};\r\n\r\nconst store = createStore(rootReducer, state);\r\n\r\nstore.subscribe(() => {\r\n  if (localStorage) {\r\n    if (store.getState().todos.list.length > 0) {\r\n      const { list } = store.getState().todos;\r\n      localStorage[KEY] = JSON.stringify(list);\r\n    } else {\r\n      localStorage.removeItem(KEY);\r\n    }\r\n  }\r\n});\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app';\n\nimport { Provider } from 'react-redux';\nimport store from './redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}